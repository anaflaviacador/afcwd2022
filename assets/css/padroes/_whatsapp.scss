$corwhats : #128c7e;

@keyframes whatschacoalha {
	0% {
		transform: rotate(0deg);
	}

	25% {
		transform: rotate(-8deg);
	}

	50% {
		transform: rotate(8deg);
	}

	75% {
		transform: rotate(-8deg);
	}

	100% {
		transform: rotate(0deg);
	}
}

#afc_btwhats {
	z-index: 100000;
	position: fixed;
	bottom: 18px;
	right: 10px;
	transition: bottom .2s ease-in-out;

	&.up {bottom: 56px;}

	@media (max-width: $tablet) {
		&.up {bottom: 30px;}
	}

	button {
		border-radius: 50%;
		background: $corwhats;
		text-decoration: none;
		display: block;
		cursor: pointer;
		border: 0;
		width: 60px;
		height: 60px;
		box-shadow: 0 0 10px transparentize(black, 0.75);
		transition: background 0.3s ease-in-out;

		&:before {
			content: "";
			position: absolute;
			display: block;
			top: 50%;
			left: 50%;
			width: 25px;
			height: 29px;
			margin-top: -16px;
			margin-left: -13px;
			color: white;
			background-repeat: no-repeat;
			background-position: center center;
			background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMzgwLjkgOTcuMUMzMzkgNTUuMSAyODMuMiAzMiAyMjMuOSAzMmMtMTIyLjQgMC0yMjIgOTkuNi0yMjIgMjIyIDAgMzkuMSAxMC4yIDc3LjMgMjkuNiAxMTFMMCA0ODBsMTE3LjctMzAuOWMzMi40IDE3LjcgNjguOSAyNyAxMDYuMSAyN2guMWMxMjIuMyAwIDIyNC4xLTk5LjYgMjI0LjEtMjIyIDAtNTkuMy0yNS4yLTExNS02Ny4xLTE1N3ptLTE1NyAzNDEuNmMtMzMuMiAwLTY1LjctOC45LTk0LTI1LjdsLTYuNy00LTY5LjggMTguM0w3MiAzNTkuMmwtNC40LTdjLTE4LjUtMjkuNC0yOC4yLTYzLjMtMjguMi05OC4yIDAtMTAxLjcgODIuOC0xODQuNSAxODQuNi0xODQuNSA0OS4zIDAgOTUuNiAxOS4yIDEzMC40IDU0LjEgMzQuOCAzNC45IDU2LjIgODEuMiA1Ni4xIDEzMC41IDAgMTAxLjgtODQuOSAxODQuNi0xODYuNiAxODQuNnptMTAxLjItMTM4LjJjLTUuNS0yLjgtMzIuOC0xNi4yLTM3LjktMTgtNS4xLTEuOS04LjgtMi44LTEyLjUgMi44LTMuNyA1LjYtMTQuMyAxOC0xNy42IDIxLjgtMy4yIDMuNy02LjUgNC4yLTEyIDEuNC0zMi42LTE2LjMtNTQtMjkuMS03NS41LTY2LTUuNy05LjggNS43LTkuMSAxNi4zLTMwLjMgMS44LTMuNy45LTYuOS0uNS05LjctMS40LTIuOC0xMi41LTMwLjEtMTcuMS00MS4yLTQuNS0xMC44LTkuMS05LjMtMTIuNS05LjUtMy4yLS4yLTYuOS0uMi0xMC42LS4yLTMuNyAwLTkuNyAxLjQtMTQuOCA2LjktNS4xIDUuNi0xOS40IDE5LTE5LjQgNDYuMyAwIDI3LjMgMTkuOSA1My43IDIyLjYgNTcuNCAyLjggMy43IDM5LjEgNTkuNyA5NC44IDgzLjggMzUuMiAxNS4yIDQ5IDE2LjUgNjYuNiAxMy45IDEwLjctMS42IDMyLjgtMTMuNCAzNy40LTI2LjQgNC42LTEzIDQuNi0yNC4xIDMuMi0yNi40LTEuMy0yLjUtNS0zLjktMTAuNS02LjZ6Ii8+PC9zdmc+");
		}

		@media (max-width: $tablet) {
			width: 42px; height: 42px;
			&:before { width: 20px; height: 23px; margin-top: -12px; margin-left: -10px; }
			
		}
	}

	&:hover button {
		background: darken($corwhats, 5%);
	}

	.afc_btwhats_box {
		width: 350px;
		min-height: 100px;
		border-radius: 5px;
		background: white;
		padding: 40px 12px 12px;
		font-size: 13px;
		position: absolute;
		top: -8px;
		right: 0;
		transition: transform 0.3s ease-in-out;
		transform-origin: right bottom;
		transform: translateY(-100%) scale(0);
		box-shadow: 0 0 10px transparentize(black, 0.75);

		@media (max-width: $celular) {
			width: calc(100vw - 50px);
			transform: translateY(-100%) scale(0);
		}

		&:before {
			top: -24px;
			left: 9px;
			background: $corwhats;
			width: 66px;
			height: 66px;
			position: absolute;
			display: block;
			content: "";
			border-radius: 50%;
			box-shadow: 0 0 10px transparentize(black, 0.75);
		}

		&:after {
			background: white;
			content: '';
			border-radius: 5px;
			border-top: 4px solid $corwhats;
			width: 100%;
			height: calc(100% - 4px);
			position: absolute;
			top: 0;
			left: 0;
			display: block;
		}

		.foto {
			width: 60px;
			height: 60px;
			z-index: 1;
			border-radius: 50%;
			border: 4px solid white;
			position: absolute;
			top: -20px;
			left: 12px;
			@include imagemfull(cover, center, center);

			img {
				width: 100%;
				visibility: hidden;
			}


			.status {
				width: 17px;
				height: 17px;
				border-radius: 50%;
				bottom: 0;
				right: 0;
				border: 2px solid white;
				position: absolute;
				display: block;

				&.on {
					background: yellowgreen;
				}

				&.off {
					background: crimson;
				}

				&.ocupada {
					background: orange;
				}
			}
		}

		.afc_btwhats_box_saudacoes {
			position: absolute;
			z-index: 2;
			overflow: hidden;
			top: 12px;
			left: 75px;
			text-overflow: ellipsis;
			width: 267px;
			white-space: nowrap;
			font-weight: 500;
		}

		p.afc_btwhats_box_chamada {
			width: 325px;
			margin-bottom: 8px;
			line-height: 1.4;
			z-index: 2;
			position: relative;

			a {
				color: $corwhats;
				text-decoration: underline;
			}

			@media (max-width: $celular) {
				width: 100%;
			}
		}

		.afc_btwhats_box_form {
			width: 325px;
			z-index: 2;
			position: relative;
			display: flex;
			flex-wrap: wrap;
			margin-top: 4px;

			@media (max-width: $celular) {
				width: 100%;
			}

			input[type="text"] {
				margin: 0;
				background: white;
				border: 1px solid $corwhats;
				border-radius: 4px;
				padding-left: 10px;
				padding-right: 10px;
				width: calc(100% - 42px);
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;
				border-right: 0;
				font-size: 16px !important;

			}

			a {
				width: 42px;
				height: 42px;
				background: $corwhats;
				color: var(--cor-escura);
				border-top-right-radius: 4px;
				border-bottom-right-radius: 4px;
				position: relative;
				display: block;
				text-align: center;

				&:before {
					width: 27px;
					height: 24px;
					content: '';
					position: absolute;
					display: block;
					top: 50%;
					left: 50%;
					margin-top: -13px;
					margin-left: -12px;
					background-repeat: no-repeat;
					background-position: center center;
					background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMzgwLjkgOTcuMUMzMzkgNTUuMSAyODMuMiAzMiAyMjMuOSAzMmMtMTIyLjQgMC0yMjIgOTkuNi0yMjIgMjIyIDAgMzkuMSAxMC4yIDc3LjMgMjkuNiAxMTFMMCA0ODBsMTE3LjctMzAuOWMzMi40IDE3LjcgNjguOSAyNyAxMDYuMSAyN2guMWMxMjIuMyAwIDIyNC4xLTk5LjYgMjI0LjEtMjIyIDAtNTkuMy0yNS4yLTExNS02Ny4xLTE1N3ptLTE1NyAzNDEuNmMtMzMuMiAwLTY1LjctOC45LTk0LTI1LjdsLTYuNy00LTY5LjggMTguM0w3MiAzNTkuMmwtNC40LTdjLTE4LjUtMjkuNC0yOC4yLTYzLjMtMjguMi05OC4yIDAtMTAxLjcgODIuOC0xODQuNSAxODQuNi0xODQuNSA0OS4zIDAgOTUuNiAxOS4yIDEzMC40IDU0LjEgMzQuOCAzNC45IDU2LjIgODEuMiA1Ni4xIDEzMC41IDAgMTAxLjgtODQuOSAxODQuNi0xODYuNiAxODQuNnptMTAxLjItMTM4LjJjLTUuNS0yLjgtMzIuOC0xNi4yLTM3LjktMTgtNS4xLTEuOS04LjgtMi44LTEyLjUgMi44LTMuNyA1LjYtMTQuMyAxOC0xNy42IDIxLjgtMy4yIDMuNy02LjUgNC4yLTEyIDEuNC0zMi42LTE2LjMtNTQtMjkuMS03NS41LTY2LTUuNy05LjggNS43LTkuMSAxNi4zLTMwLjMgMS44LTMuNy45LTYuOS0uNS05LjctMS40LTIuOC0xMi41LTMwLjEtMTcuMS00MS4yLTQuNS0xMC44LTkuMS05LjMtMTIuNS05LjUtMy4yLS4yLTYuOS0uMi0xMC42LS4yLTMuNyAwLTkuNyAxLjQtMTQuOCA2LjktNS4xIDUuNi0xOS40IDE5LTE5LjQgNDYuMyAwIDI3LjMgMTkuOSA1My43IDIyLjYgNTcuNCAyLjggMy43IDM5LjEgNTkuNyA5NC44IDgzLjggMzUuMiAxNS4yIDQ5IDE2LjUgNjYuNiAxMy45IDEwLjctMS42IDMyLjgtMTMuNCAzNy40LTI2LjQgNC42LTEzIDQuNi0yNC4xIDMuMi0yNi40LTEuMy0yLjUtNS0zLjktMTAuNS02LjZ6Ii8+PC9zdmc+");
				}

				&:hover {
					&:before {
						animation: afcwdHoverBTWhaaa 0.5s ease-in-out 0s infinite alternate backwards;
						background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjE2LjQ2NCAzNi40NjVsLTcuMDcxIDcuMDdjLTQuNjg2IDQuNjg2LTQuNjg2IDEyLjI4NCAwIDE2Ljk3MUwzODcuODg3IDIzOUgxMmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYxMGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDM3NS44ODdMMjA5LjM5MyA0NTEuNDk0Yy00LjY4NiA0LjY4Ni00LjY4NiAxMi4yODQgMCAxNi45NzFsNy4wNzEgNy4wN2M0LjY4NiA0LjY4NiAxMi4yODQgNC42ODYgMTYuOTcgMGwyMTEuMDUxLTIxMS4wNWM0LjY4Ni00LjY4NiA0LjY4Ni0xMi4yODQgMC0xNi45NzFMMjMzLjQzNCAzNi40NjVjLTQuNjg2LTQuNjg3LTEyLjI4NC00LjY4Ny0xNi45NyAweiIvPjwvc3ZnPg==');

						@keyframes(afcwdHoverBTWhaaa) {
							0% {
								margin-left: -13px;
							}

							100% {
								margin-left: -10px;
							}
						}
					}
				}
			}

			input[type="text"]:focus+a {
				background: $corwhats;

				&:before {
					background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjE2LjQ2NCAzNi40NjVsLTcuMDcxIDcuMDdjLTQuNjg2IDQuNjg2LTQuNjg2IDEyLjI4NCAwIDE2Ljk3MUwzODcuODg3IDIzOUgxMmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYxMGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDM3NS44ODdMMjA5LjM5MyA0NTEuNDk0Yy00LjY4NiA0LjY4Ni00LjY4NiAxMi4yODQgMCAxNi45NzFsNy4wNzEgNy4wN2M0LjY4NiA0LjY4NiAxMi4yODQgNC42ODYgMTYuOTcgMGwyMTEuMDUxLTIxMS4wNWM0LjY4Ni00LjY4NiA0LjY4Ni0xMi4yODQgMC0xNi45NzFMMjMzLjQzNCAzNi40NjVjLTQuNjg2LTQuNjg3LTEyLjI4NC00LjY4Ny0xNi45NyAweiIvPjwvc3ZnPg==');
				}
			}
		}

		.afc_btwhats_box_horario {
			margin-top: 8px;
			text-transform: uppercase;
			opacity: .7;
			font-size: 8px;
			z-index: 2;
			position: relative;
			width: 325px;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}


	&.afc_onclick {
		button {
			background: $corwhats;

			&:before {
				background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMjAgNTEyIj48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMTkzLjk0IDI1NkwyOTYuNSAxNTMuNDRsMjEuMTUtMjEuMTVjMy4xMi0zLjEyIDMuMTItOC4xOSAwLTExLjMxbC0yMi42My0yMi42M2MtMy4xMi0zLjEyLTguMTktMy4xMi0xMS4zMSAwTDE2MCAyMjIuMDYgMzYuMjkgOTguMzRjLTMuMTItMy4xMi04LjE5LTMuMTItMTEuMzEgMEwyLjM0IDEyMC45N2MtMy4xMiAzLjEyLTMuMTIgOC4xOSAwIDExLjMxTDEyNi4wNiAyNTYgMi4zNCAzNzkuNzFjLTMuMTIgMy4xMi0zLjEyIDguMTkgMCAxMS4zMWwyMi42MyAyMi42M2MzLjEyIDMuMTIgOC4xOSAzLjEyIDExLjMxIDBMMTYwIDI4OS45NCAyNjIuNTYgMzkyLjVsMjEuMTUgMjEuMTVjMy4xMiAzLjEyIDguMTkgMy4xMiAxMS4zMSAwbDIyLjYzLTIyLjYzYzMuMTItMy4xMiAzLjEyLTguMTkgMC0xMS4zMUwxOTMuOTQgMjU2eiIvPjwvc3ZnPg==")
			}
		}

		.afc_btwhats_box {
			transform: translateY(-100%) scale(1);

			@media (max-width: $celular) {
				transform: translateY(-100%) scale(1);
			}
		}
	}

	&:not(.afc_onclick) {
		button:before {
			animation: whatschacoalha 0.5s ease-in-out 0s infinite normal forwards;
		}
	}
}